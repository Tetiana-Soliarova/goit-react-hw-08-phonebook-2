(this["webpackJsonpgoit-react-hw-08-phonebook-2"]=this["webpackJsonpgoit-react-hw-08-phonebook-2"]||[]).push([[3],{100:function(e,t,n){e.exports={enter:"Fade_enter__Allee",enterActive:"Fade_enterActive__3SGNu",exit:"Fade_exit__19Bc2",exitActive:"Fade_exitActive__1LmwQ"}},101:function(e,t,n){e.exports={label:"styles_label__2BduY",filtr:"styles_filtr__3YmOc",input:"styles_input__2hw5x"}},102:function(e,t,n){e.exports={enter:"FilterFade_enter__oWYIR",enterActive:"FilterFade_enterActive__2j2c9",exit:"FilterFade_exit__ippW5",exitActive:"FilterFade_exitActive__1IvL0"}},103:function(e,t,n){e.exports={enter:"pop_enter__30RLr",enterActive:"pop_enterActive__2PqmX",exit:"pop_exit__3Mamn",exitActive:"pop_exitActive__3gebz"}},107:function(e,t,n){"use strict";n.r(t);var r=n(26),c=n(27),a=n(29),i=n(28),o=n(0),s=n.n(o),u=n(3),l=n(98),d=n.n(l),b=n(20),m=n.n(b),f=n(11),h=function(){return function(e){e(Object(f.i)()),m.a.get("/contacts").then((function(t){var n=t.data;return e(Object(f.j)(n))})).catch((function(t){return e(Object(f.h)(t.message))}))}},p=n(10),j=n(99),_=n.n(j),v=n(1);var x=function(){return Object(v.jsx)("div",{className:_.a.alert,children:Object(v.jsx)("h1",{className:_.a.error,children:" Contacts already exists! "})})},O=n(94),y=n(100),g=n.n(y),N=n(101),C=n.n(N),E=n(32),F=function(e){return e.contacts.loading},S=function(e){return e.contacts.items},A=function(e){return e.contacts.filter},w=Object(E.a)([S,A],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),k=Object(p.b)((function(e){return{value:A(e)}}),(function(e){return{onChange:function(t){return e(f.d(t.currentTarget.value))}}}))((function(e){var t=e.value,n=e.onChange;return Object(v.jsxs)("div",{className:C.a.filtr,children:[Object(v.jsx)("label",{className:C.a.label,children:"Find contacts by name"}),Object(v.jsx)("input",{className:C.a.input,type:"text",value:t,onChange:n})]})})),L=n(102),D=n.n(L),V=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={name:"",number:"",error:!1},e.hendleNameChange=function(t){var n=t.currentTarget,r=n.name,c=n.value;e.setState(Object(u.a)({},r,c))},e.hendleSubmit=function(t){if(t.preventDefault(),e.props.contacts.find((function(e){return e.name===t.target.elements[0].value})))return e.setState({error:!0}),setTimeout((function(){e.setState({error:!1})}),2500);e.props.onSubmit(e.state),e.reset()},e.reset=function(){e.setState({name:"",number:""})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContact()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:d.a.container,children:[Object(v.jsx)(O.a,{in:this.state.error,timeout:250,classNames:g.a,unmountOnExit:!0,children:Object(v.jsx)(x,{})}),Object(v.jsxs)("form",{onSubmit:this.hendleSubmit,children:[Object(v.jsxs)("label",{className:d.a.label,children:["Name",Object(v.jsx)("input",{className:d.a.input,name:"name",type:"text",value:this.state.name,onChange:this.hendleNameChange})]}),Object(v.jsxs)("label",{className:d.a.label,children:["Number",Object(v.jsx)("input",{className:d.a.input,name:"number",type:"tel",value:this.state.number,onChange:this.hendleNameChange})]}),Object(v.jsx)("button",{className:d.a.buttomForm,type:"submit",children:"Add contact"})]})]}),Object(v.jsx)(O.a,{in:this.props.contacts.length>1,timeout:250,classNames:D.a,unmountOnExit:!0,onExiting:function(){return e.props.clearFilter()},children:Object(v.jsx)(k,{})}),this.props.isLoading&&Object(v.jsx)("h1",{className:d.a.loading,children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."})]})}}]),n}(o.Component),M=Object(p.b)((function(e){return{contacts:S(e),isLoading:F(e)}}),(function(e){return{onSubmit:function(t,n){return e((r=t,function(e){var t={name:r.name,number:r.number};e(Object(f.b)()),m.a.post("/contacts",t).then((function(t){var n=t.data;return e(Object(f.c)(n))})).catch((function(t){return e(Object(f.a)(t.massage))}))}));var r},clearFilter:function(){return e(Object(f.d)(""))},fetchContact:function(){return e(h())}}}))(V),R=n(8),W=n(5);var P=n(9),T=(n(18),n(38));function Y(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function z(e,t,n){return null!=n[t]?n[t]:e.props[t]}function B(e,t,n){var r=Y(e.children),c=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,c=Object.create(null),a=[];for(var i in e)i in t?a.length&&(c[i]=a,a=[]):a.push(i);var o={};for(var s in t){if(c[s])for(r=0;r<c[s].length;r++){var u=c[s][r];o[c[s][r]]=n(u)}o[s]=n(s)}for(r=0;r<a.length;r++)o[a[r]]=n(a[r]);return o}(t,r);return Object.keys(c).forEach((function(a){var i=c[a];if(Object(o.isValidElement)(i)){var s=a in t,u=a in r,l=t[a],d=Object(o.isValidElement)(l)&&!l.props.in;!u||s&&!d?u||!s||d?u&&s&&Object(o.isValidElement)(l)&&(c[a]=Object(o.cloneElement)(i,{onExited:n.bind(null,i),in:l.props.in,exit:z(i,"exit",e),enter:z(i,"enter",e)})):c[a]=Object(o.cloneElement)(i,{in:!1}):c[a]=Object(o.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:z(i,"exit",e),enter:z(i,"enter",e)})}})),c}var J=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},q=function(e){function t(t,n){var r,c=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},r}Object(P.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,c=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,Y(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:z(e,"appear",n),enter:z(e,"enter",n),exit:z(e,"exit",n)})}))):B(e,c,a),firstRender:!1}},n.handleExited=function(e,t){var n=Y(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(W.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(R.a)(e,["component","childFactory"]),c=this.state.contextValue,a=J(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(T.a.Provider,{value:c},a):s.a.createElement(T.a.Provider,{value:c},s.a.createElement(t,r,a))},t}(s.a.Component);q.propTypes={},q.defaultProps={component:"div",childFactory:function(e){return e}};var G=q,I=n(96),X=n.n(I),K=function(e){var t=e.name,n=e.number,r=e.id,c=e.onDeleteContact;return Object(v.jsxs)("li",{className:X.a.item,children:[Object(v.jsx)("p",{className:X.a.name,children:t}),Object(v.jsx)("p",{className:X.a.number,children:n}),Object(v.jsx)("button",{className:X.a.buttonContact,type:"button",onClick:c})]},r)},Q=n(103),U=n.n(Q),Z=Object(p.b)((function(e){return{contacts:w(e)}}),(function(e){return{deleteContact:function(t){return e((n=t,function(e){e(Object(f.f)()),m.a.delete("/contacts/".concat(n)).then((function(){return e(Object(f.g)(n))})).catch((function(t){return e(Object(f.e)(t.message))}))}));var n},fetchContacts:function(){return e(h())}}}))((function(e){var t=e.contacts,n=e.deleteContact;e.clearFilter;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{className:X.a.title,children:"Contacts"}),Object(v.jsx)(G,{component:"ul",className:X.a.contactList,children:t.map((function(e){var t=e.id,r=e.name,c=e.number;return Object(v.jsx)(O.a,{timeout:250,classNames:U.a,children:Object(v.jsx)(K,{id:t,name:r,number:c,onDeleteContact:function(){return n(t)}},t)},t)}))})]})})),H=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(M,{}),Object(v.jsx)(Z,{})]})}}]),n}(o.Component);t.default=H},96:function(e,t,n){e.exports={item:"contactStyles_item__1w18f",title:"contactStyles_title__3y5qY",contactList:"contactStyles_contactList__W94Ss",buttonContact:"contactStyles_buttonContact__22w_6",icon:"contactStyles_icon__3Zfx6",name:"contactStyles_name__380We",number:"contactStyles_number__XNK3g"}},98:function(e,t,n){e.exports={input:"form_input__1-ECV",label:"form_label__Dw8vG",buttomForm:"form_buttomForm__1cprY",container:"form_container__2B0_S",loading:"form_loading__1z3NJ"}},99:function(e,t,n){e.exports={alert:"styleAlert_alert__3cD15",error:"styleAlert_error__1ND-4","fade-enter":"styleAlert_fade-enter__4844j","fade-enter-active":"styleAlert_fade-enter-active__2Oa7W","fade-exit":"styleAlert_fade-exit__3ToCu","fade-exit-active":"styleAlert_fade-exit-active__3OSMz"}}}]);
//# sourceMappingURL=3.86dee492.chunk.js.map